<ion-toolbar>
  <ion-title>Comments</ion-title>
  <ion-buttons start>
    <button (click)="dismiss()">
      <ion-icon name='close'></ion-icon>
    </button>
  </ion-buttons>
</ion-toolbar>

  <ion-content class="comments">
    <ion-list>
        <ion-item>
          <ion-thumbnail item-left>
            <img src="{{ song.image_large }}">
          </ion-thumbnail>
          <h2>{{ song.title }}</h2>
          <p>{{ song.artist }}</p>
        </ion-item>

        <form [ngFormModel]="commentForm" (submit)="onSubmit(commentForm.value)">
          <ion-item>
            <ion-label floating>Leave a Comment</ion-label>
            <ion-input type="text"
              [ngFormControl]="comment">
            </ion-input>
          </ion-item>
          <button block clear type="submit" [disabled]="!comment.value || !commentForm.valid">Submit</button>
        </form>
        <!-- <p>
          TODO: remove this: {{ comment.value }}
        </p> -->

        <ion-item *ngFor="#comment of song.comments">
          <h3>{{ comment.display_name }}</h3>
          <p>{{ comment.text }}</p>
        </ion-item>
    </ion-list>
  </ion-content>
