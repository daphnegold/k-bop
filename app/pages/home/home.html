<ion-navbar light *navbar>
  <ion-title class="logo">K-BOP</ion-title>
</ion-navbar>

<ion-content class="home">
  <ion-refresher
    *ngIf="!currentSong"
    (refresh)="doRefresh($event, refresher)"
    refreshingText=""
    refreshingIcon="">
  </ion-refresher>

  <div padding class="instructions-container" *ngIf="!currentSong && !refresherPulled">
    <div class="instructions">
      <h1>PULL ME</h1>
      <img src="images/down-arrow.gif"/>
    </div>
  </div>

  <div *ngIf="!currentSong && refresherPulled" class="spinner">
    <div class="rect1"></div>
    <div class="rect2"></div>
    <div class="rect3"></div>
    <div class="rect4"></div>
    <div class="rect5"></div>
  </div>

  <ion-card *ngIf="currentSong"
    [ngClass]="{animated: currentSong,
      fadeOutLeft: currentSong.decided && !currentSong.choice,
      fadeOutRight: currentSong.decided && currentSong.choice,
      slideInDown: !currentSong.decided}">
    <ion-item>
      <ion-avatar item-right>
        <ion-icon *ngIf="!_songService.paused" name="md-musical-note" item-right></ion-icon>
      </ion-avatar>
      <h2>{{ currentSong.artist }}</h2>
    </ion-item>

    <img *ngIf="!hideImage" [src]="currentSong.image_large" (click)="toggleSong()">

    <ion-card-content>
      <h4>{{ currentSong.title }}</h4>
    </ion-card-content>

    <ion-item>
      <button primary clear item-left>
        <ion-icon name="heart"></ion-icon>
        <div>{{ currentSong.likes }} Likes</div>
      </button>
      <button primary clear item-left (click)="showModal({mySong: currentSong})">
        <ion-icon name="text"></ion-icon>
        <div>{{ currentSong.comments.length }} Comments</div>
      </button>
    </ion-item>
  </ion-card>
</ion-content>
